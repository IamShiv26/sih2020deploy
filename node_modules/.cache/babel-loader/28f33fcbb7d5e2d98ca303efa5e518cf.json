{"ast":null,"code":"import _classCallCheck from\"/Users/drdevashishojaiswal/Documents/sihfinal/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/drdevashishojaiswal/Documents/sihfinal/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/drdevashishojaiswal/Documents/sihfinal/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/drdevashishojaiswal/Documents/sihfinal/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/drdevashishojaiswal/Documents/sihfinal/node_modules/@babel/runtime/helpers/esm/inherits\";import React from'react';import MuiThemeProvider from'material-ui/styles/MuiThemeProvider';import AppBar from'material-ui/AppBar';import TextField from'material-ui/TextField';import RaisedButton from'material-ui/RaisedButton';import axios from'axios';import{Link}from'react-router-dom';export var FormPersonalDetails=/*#__PURE__*/function(_React$Component){_inherits(FormPersonalDetails,_React$Component);function FormPersonalDetails(){var _getPrototypeOf2;var _this;_classCallCheck(this,FormPersonalDetails);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(FormPersonalDetails)).call.apply(_getPrototypeOf2,[this].concat(args)));_this.state={selectedFile:null,password:''};_this.continue=function(e){e.preventDefault();_this.props.nextStep();};_this.back=function(e){e.preventDefault();_this.props.prevStep();};_this.fileSelectedHandler=function(event){console.log(event.target.files[0]);_this.setState({selectedFile:event.target.files[0]});};_this.changeValue=function(event){console.log(event.target.value);_this.setState({password:event.target.value});};_this.fileUploadHandler=function(){var fd=new FormData();//  let defaultOptions = {\n//     url:'',\n//     method:'POST',\n//     // mode: 'cors',\n//     headers:{\n//     'content-type': 'application/json',\n//     'accept': 'application/json',\n//     'Authorization' : 'Bearer '+ localStorage.getItem('token')\n//     },\n//     body:fd\n//     };\nfd.append('zip',_this.state.selectedFile,_this.state.selectedFile.name);fd.append('password',_this.state.password);console.log(fd);axios.post('https://sih2020backend.herokuapp.com/kyc',fd,{headers:{Authorization:'Bearer '+localStorage.getItem('token')}});// fetch('https://sih2020backend.herokuapp.com/kyc', defaultOptions).then((res) => {\n//   console.log(res.data.filepath);\n//   this.props.sendUrl(res.data.filepath)\n// })\n};return _this;}_createClass(FormPersonalDetails,[{key:\"render\",value:function render(){var _this$props=this.props,values=_this$props.values,handleChange=_this$props.handleChange;return React.createElement(MuiThemeProvider,null,React.createElement(React.Fragment,null,React.createElement(AppBar,{title:\"Upload documents\"}),React.createElement(\"h3\",null,\" Add zip file\"),React.createElement(\"input\",{type:\"file\",onChange:this.fileSelectedHandler}),React.createElement(\"br\",null),React.createElement(\"br\",null),React.createElement(\"br\",null),React.createElement(\"br\",null),React.createElement(TextField,{hintText:\"Enter the 4 digit password for the zip file\",floatingLabelText:\"4 digit password\",onChange:this.changeValue}),React.createElement(\"br\",null),React.createElement(\"br\",null),React.createElement(RaisedButton,{onClick:this.fileUploadHandler},\" Upload \"),React.createElement(\"br\",null),React.createElement(\"br\",null),React.createElement(Link,{to:\"/dashboard\"},React.createElement(RaisedButton,{label:\"Home\",primary:true,variant:\"contained\",style:styles.button})),React.createElement(RaisedButton,{label:\"Continue\",primary:true,variant:\"contained\",style:styles.button,onClick:this.continue}),React.createElement(\"br\",null),React.createElement(\"br\",null)));}}]);return FormPersonalDetails;}(React.Component);var styles={button:{margin:15}};export default FormPersonalDetails;","map":{"version":3,"sources":["/Users/drdevashishojaiswal/Documents/sihfinal/src/components/SignUrl.js"],"names":["React","MuiThemeProvider","AppBar","TextField","RaisedButton","axios","Link","FormPersonalDetails","state","selectedFile","password","continue","e","preventDefault","props","nextStep","back","prevStep","fileSelectedHandler","event","console","log","target","files","setState","changeValue","value","fileUploadHandler","fd","FormData","append","name","post","headers","Authorization","localStorage","getItem","values","handleChange","styles","button","Component","margin"],"mappings":"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","sourcesContent":["import React from 'react'\nimport MuiThemeProvider from 'material-ui/styles/MuiThemeProvider'\nimport AppBar from 'material-ui/AppBar'\nimport TextField from 'material-ui/TextField'\nimport RaisedButton from 'material-ui/RaisedButton'\nimport axios from 'axios'\nimport {Link} from 'react-router-dom';\n\n\n\nexport class FormPersonalDetails extends React.Component {\n  state = {\n    selectedFile : null,\n    password : ''\n  }\n\n  continue = e => {\n    e.preventDefault();\n    this.props.nextStep();\n  };\n\n back = e => {\n    e.preventDefault();\n    this.props.prevStep();\n  };\n\n  fileSelectedHandler = event => {\n    console.log(event.target.files[0]);\n    this.setState({\n      selectedFile : event.target.files[0]\n    });\n  };\n\n  changeValue = event => {\n    console.log(event.target.value);\n    this.setState({\n      password : event.target.value\n    });\n  };\n\n \n  fileUploadHandler = () => {\n    const fd = new FormData();\n    //  let defaultOptions = {\n    //     url:'',\n    //     method:'POST',\n    //     // mode: 'cors',\n    //     headers:{\n    //     'content-type': 'application/json',\n    //     'accept': 'application/json',\n    //     'Authorization' : 'Bearer '+ localStorage.getItem('token')\n    //     },\n    //     body:fd\n    //     };\n\n    \n    fd.append('zip', this.state.selectedFile, this.state.selectedFile.name);\n    fd.append('password', this.state.password)\n    console.log(fd);\n    axios.post('https://sih2020backend.herokuapp.com/kyc', fd, {\n      headers: {\n        Authorization : 'Bearer '+ localStorage.getItem('token')\n      }\n    })\n    // fetch('https://sih2020backend.herokuapp.com/kyc', defaultOptions).then((res) => {\n    //   console.log(res.data.filepath);\n    //   this.props.sendUrl(res.data.filepath)\n        \n    // })\n  }\n\n\n\n \n  render() {\n    const { values, handleChange } = this.props;\n    return (\n      <MuiThemeProvider >\n        <React.Fragment>\n        \n            <AppBar title=\"Upload documents\" />\n            <h3> Add zip file</h3>\n            <input type = \"file\" onChange ={this.fileSelectedHandler} />\n            <br/>\n            <br/>\n            \n  \n            <br/>\n            <br/>\n\n            <TextField\n              hintText=\"Enter the 4 digit password for the zip file\"\n              floatingLabelText=\"4 digit password\"\n              onChange={this.changeValue}\n              \n            />\n            <br/>\n            <br/>\n            <RaisedButton onClick = {this.fileUploadHandler}> Upload </RaisedButton>\n\n            <br/>\n            <br/>\n\n            \n\n            <Link to = \"/dashboard\">\n            <RaisedButton\n                label =\"Home\"\n                primary = {true}\n                variant=\"contained\"\n                style = {styles.button}\n              />\n         </Link>\n\n            <RaisedButton\n              label =\"Continue\"\n              primary = {true}\n              variant=\"contained\"\n              style = {styles.button}\n              onClick={this.continue}\n            />\n            <br/>\n            <br/>\n         \n        </React.Fragment>\n      </MuiThemeProvider>\n    );\n  }\n}\n\nconst styles = {\n\tbutton:{\n\t\tmargin : 15\n\t}\n}\n\nexport default FormPersonalDetails;"]},"metadata":{},"sourceType":"module"}